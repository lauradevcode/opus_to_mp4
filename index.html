<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Opus ‚Üí MP4 + Transcri√ß√£o ‚Äî Laura</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap"
        rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    
    <header class="wrap">
        <div class="logo">L</div>
        <div>
            <h1>Conversor de √Åudio Opus para MP4 e Transcri√ß√£o</h1>
            <p class="lead">Ferramenta gratuita para converter √°udios do WhatsApp e gerar transcri√ß√µes via AI.</p>
        </div>
    </header>

    <main class="wrap">
        <div class="grid">
            
            <section class="card preview">
                <div class="hint">
                    1. Selecione o arquivo .opus (geralmente do WhatsApp).
                </div>

                <label for="file">Arquivo de √Åudio (.opus)</label>
                <div class="file-input">
                    <label class="btn" for="file">Selecionar</label>
                    <div id="filename" class="muted">Nenhum arquivo selecionado</div>
                    <input id="file" type="file" accept="audio/ogg,audio/opus,.opus" />
                </div>

                <audio id="audioplayer" controls></audio>
                
                <hr style="border-color: rgba(255, 255, 255, 0.05);">

                <label>2. Convers√£o e Transcri√ß√£o</label>
                <div class="actions">
                    <button id="convertBtn" class="btn">Converter para MP4 (Frontend)</button>
                    <button id="downloadBtn" class="btn ghost" disabled>Baixar MP4</button>
                    <button id="serverBtn" class="btn" style="margin-left: auto;">
                        Transcrever via Servidor (Recomendado)
                    </button>
                </div>
                
                <div id="status" class="status">Aguardando sele√ß√£o do arquivo...</div>

                <video id="player" controls style="display: block; margin-top: 15px;"></video>
            </section>

            <aside class="card">
                <label>3. Resultado da Transcri√ß√£o</label>
                <div class="actions">
                    <button id="copyBtn" class="btn small ghost">Copiar Texto</button>
                    <button id="useMic" class="btn small ghost" style="margin-left: auto;">
                        Transcrever pelo microfone
                    </button>
                </div>
                
                <textarea id="transcript" placeholder="O texto transcrito aparecer√° aqui..." style="margin-top: 8px;"></textarea>

                <label style="margin-top: 15px;">Logs T√©cnicos (FFmpeg/API)</label>
                <textarea id="log" readonly style="min-height: 100px; font-size: 11px;"></textarea>
            </aside>
        </div>
    </main>
    
    <div id="donation-popup" class="popup-overlay">
        <div class="popup-content card">
            <button id="close-popup" class="popup-close">√ó</button>
            <h2>‚ú® Apoie o Projeto! ‚ú®</h2>
            <p>Se voc√™ gostou do conversor, considere fazer uma doa√ß√£o para ajudar a manter o servidor da API de Transcri√ß√£o funcionando. Qualquer valor √© bem-vindo!</p>
            
            <div class="pix-area">
                <p>Chave PIX (E-mail):</p>
                <div class="pix-input-group">
                    <input type="text" id="pix-key" value="lauradevcode@gmail.com" readonly />
                    <button id="copy-pix" class="btn">Copiar Chave</button>
                </div>
            </div>

            <div style="margin-top: 15px; font-size: 13px; color: var(--muted);">
                Agrade√ßo imensamente o seu apoio! üôè
            </div>
        </div>
    </div>
    
    <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.11.6/dist/ffmpeg.min.js"></script>
    <script src="frontend.js"></script>
</body>
</html>